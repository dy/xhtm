var r="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),n=n=>{for(var e,u,a,l,t=3,s="",p="",h=[],i=r=>{3===t?(s&&h.push(s),r&&h.push(r)):1===t?l||h.push(h=[h,l=r||s.toLowerCase(),null]):2===t&&(h[2]||!s&&!r||(u=h[2]=[]),e?(!0===e&&(s||r)&&(u.pop(),u.push(e=[])),s&&e.push(s),r&&e.push(r)):"="===a?u.push(s||r,e=[]):"..."===s?u.push(null,r):(s||r)&&u.push(r||s,e=!0)),s=""},o=0;o<n.length;o++){o&&i(o);for(var m=0;m<n[o].length;m++)a=n[o][m],3===t?"<"===a?(i(),t=1):s+=a:p?a===p?(p="",i()):s+=a:'"'===a||"'"===a?p=a:">"===a?(t&&i(),t&&!r.includes(l)||(h=h[0]),t=3,l=null):t&&8!==t&&("="===a?i():"/"!==a||1!==t&&">"!==n[o][m+1]?" "===a||"\t"===a||"\n"===a||"\r"===a?(i(),t=2,e=null):s+=a:(s&&i(),t=0)),1!==t||"!"!==s&&"?"!==s||(t=8)}return i(),h};export default function(r){var e=r=>r.map(r=>{if(!Array.isArray(r))return u(r);var[n,a,l,...t]=r;a=u(a);var s=null;if(l){s={};for(var p,h,i=0;i<l.length;i+=2)h=l[i+1],null===(p=l[i])?Object.assign(s,arguments[h]):s[u(p)]=Array.isArray(h)?1===h.length?u(h[0]):h.map(u).join(""):u(h)}return this(a,s,...e(t))}),u=r=>"number"==typeof r?arguments[r]:r,a=e(n(r));return a.length<2?a[0]:a}
